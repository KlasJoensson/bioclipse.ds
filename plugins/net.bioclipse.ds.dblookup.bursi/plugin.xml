<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="net.bioclipse.ds.test">
      <test
            class="net.bioclipse.ds.dblookup.impl.DBExactMatchTest"
            icon="icons/db.gif"
            id="dblookup.exact.bursi"
            informative="true"
            name="BursiDB exact lookup">
            <resource name="file"
                  path="data/cas_4337_noH_props.sdf">
            </resource>
      </test>

      <test
            id="dblookup.nearest.bursi"
            name="BursiDB nearest neighbour"
            class="net.bioclipse.ds.dblookup.impl.DBNearestNeighborTest"
            icon="icons/db.gif">
            <resource name="file"
                  path="data/cas_4337_noH_props.sdf">
            </resource>
            <parameter
                  name="distance.tanimoto"
                  value="0.7">
            </parameter>
      </test>
   </extension>



       <extension
       point="net.bioclipse.cdk.propertyCalculator">
    <Calculator
          class="net.bioclipse.ds.dblookup.bursi.DBExactMatchCalculator"
          id="net.bioclipse.ds.dblookup.bursi.dbexact">
    </Calculator>
    <Calculator
          class="net.bioclipse.ds.dblookup.bursi.DBNearestMatchCalculator"
          id="net.bioclipse.ds.dblookup.bursi.dbnearest">
    </Calculator>
 </extension>
 
 	<extension
  		point="org.eclipse.ui.menus">
   <menuContribution
        locationURI="popup:net.bioclipse.cdk.ui.sdfeditor.menu?after=additions">
      <command
           commandId="net.bioclipse.cdk.ui.sdfeditor.addProperty"
           label="Compute Bursi Exact Matches"
            icon="icons/db.gif"
           style="push">
        <parameter
              name="net.bioclipse.cdk.ui.sdfeditor.calculatorId"
              value="net.bioclipse.ds.dblookup.bursi.dbexact">
        </parameter>
        <visibleWhen
              checkEnabled="false">
           <with
                 variable="activeEditor">
              <instanceof
                    value="net.bioclipse.cdk.ui.sdfeditor.editor.MultiPageMoleculesEditorPart">
              </instanceof>
           </with>
        </visibleWhen>
     </command>
   </menuContribution>
   
      <menuContribution
        locationURI="popup:net.bioclipse.cdk.ui.sdfeditor.menu?after=additions">
      <command
           commandId="net.bioclipse.cdk.ui.sdfeditor.addProperty"
           label="Compute Bursi Nearest Neighbors"
            icon="icons/db.gif"
           style="push">
        <parameter
              name="net.bioclipse.cdk.ui.sdfeditor.calculatorId"
              value="net.bioclipse.ds.dblookup.bursi.dbnearest">
        </parameter>
        <visibleWhen
              checkEnabled="false">
           <with
                 variable="activeEditor">
              <instanceof
                    value="net.bioclipse.cdk.ui.sdfeditor.editor.MultiPageMoleculesEditorPart">
              </instanceof>
           </with>
        </visibleWhen>
     </command>
   </menuContribution>
 </extension>
   

</plugin>
